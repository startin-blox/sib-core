<link rel="import" href="https://polygit.org/components/polymer/polymer-element.html">

<dom-module id="ldp-display-div">
    <template>
        <div class$="{{name}}">{{value}}</div>
    </template>
    <script>
        class LDPDisplayDiv extends Polymer.Element {
            static get is() { return "ldp-display-div"; }
            connectedCallback() {
                super.connectedCallback();
            }
        }
        customElements.define(LDPDisplayDiv.is, LDPDisplayDiv);
    </script>
</dom-module>

<dom-module id="ldp-display-img">
    <template>
        <img class$="{{name}}" src$="{{value}}" style="max-width: 100%; max-height: 100%;"/>
    </template>
    <script>
        class LDPDisplayImg extends Polymer.Element {
            static get is() { return "ldp-display-img"; }
        }
        customElements.define(LDPDisplayImg.is, LDPDisplayImg);
    </script>
</dom-module>

<script>
    class LDPFormText extends HTMLElement {
        connectedCallback() {
            this.render();
        }
        get template() {
            return `<label for="id-${this.name}">${this.name}</label>
                <input type="text" name="${this.name}" value="${this.value}">`;
        }
        render() {
            this.innerHTML = this.template;
        }
        get name() {
            return this.getAttribute('name');
        }
        set name(name) {
            this.setAttribute('name', name);
            this.render();
        }
        get value() {
            return this._value || '';
        }
        set value(value) {
            if(!isArray(value)) value = [value];
            this._value = value;
            this.render();
        }
    }
    customElements.define("ldp-form-text", LDPFormText);
    
    class LDPList extends HTMLElement {
        connectedCallback() {
            const ul = document.createElement('ul');
            for(let item of this.value) {
                const li = document.createElement('li');
                li.innerHTML = item;
                ul.appendChild(li);
            }
            this.appendChild(ul);
        }
    }
    customElements.define('ldp-list', LDPList);
</script>
