<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>SIB test: federation</title>
    <script type="module" src="../../dist/index.js"></script>
    <script
      type="module"
      src="https://cdn.skypack.dev/@startinblox/oidc@latest"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@startinblox/orbit-styling-framework/dist/index.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.skypack.dev/@startinblox/component-directory@latest/dist/style.css?min"
    />
  </head>
  <style>
    .avatar {
      border-radius: 50%;
      width: 100px;
      height: 100px;
    }
    .main-block {
      white-space: normal !important;
    }
    .main-block.children-third > div > solid-display {
      width: 32.2% !important;
    }
    solid-form-multipleselect-autocompletion solid-form-dropdown>div {
      box-sizing: border-box;
      box-shadow: 0 0 5px 0 rgba(133,140,148,.09);
    }
  </style>

  <body class="segment full">
    <sib-auth auto-login>
      <sib-auth-provider
        data-authority="https://api.community.startinblox.com/"
      ></sib-auth-provider>
    </sib-auth>

    <h1>
      Startin'Blox demo: search for distributed data efficiently with indexes
    </h1>

    <div class="segment full">
      <div id="directory-list" data-view="directory-list">
        <h2 class="margin-left-xsmall sm-margin-none text-xlarge text-bold text-color-heading text-uppercase">
          Members directory
        </h2>
        <solid-form-search
          id="solid-directory-listing-search"
          class="segment block padding-top-large padding-bottom-large whitespace-normal form search-form"
          fields="profile.city, skills"
          class-name="segment margin-bottom-small third sm-full padding-right-xsmall padding-left-xsmall sm-padding-none text-small input-shadow input-bg-white icon icon-magnify"
          label-name="Search by name and/or firstname"
          widget-name="solid-form-placeholder-text"
          class-profile.job="segment margin-bottom-small third sm-full padding-right-xsmall padding-left-xsmall sm-padding-none text-small input-shadow input-bg-white icon icon-magnify"
          label-profile.job="Search by job"
          widget-profile.job="solid-form-placeholder-text"
          class-profile.city="segment margin-bottom-small third sm-full padding-right-xsmall padding-left-xsmall sm-padding-none text-small input-shadow input-bg-white icon icon-magnify"
          label-profile.city="Search by city"
          widget-profile.city="solid-form-placeholder-text"
          submit-button="GO"
          submit-widget="button"
          class-submit-button="search-button segment sm-full text-xsmall children-link-button children-link-text-bold children-link-text-uppercase children-link-reversed color-secondary bordered children-button-icon children-icon-arrow-right-circle children-icon-small children-icon-margin-right-xsmall"
          range-skills="https://api.community.hubl.world/skills/"
          order-asc-skills="name"
          class-skills="search-skills segment margin-bottom-small two-third sm-full padding-right-xsmall padding-left-xsmall sm-padding-none text-small select-shadow select-bg-white"
          label-skills="Add a skill filter"
          widget-skills="solid-form-multipleselect-autocompletion"
          naked=""
        ></solid-form-search>

        <div id="loader-members-list" class="loader loader-top">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
        <solid-widget name="directory-city">
          <template>
            <span class="segment block city-display margin-bottom-xsmall">${value}</span>
          </template>
        </solid-widget>
        <solid-widget name="orbit-user-avatar">
          <template>
            <img
              class="avatar large"
              src="${value}"
            />
          </template>
        </solid-widget>

        <solid-display
          filtered-by="solid-directory-listing-search"
          data-src-index="https://api.test-inria-index.startinblox.com/indexes/meta.jsonld"
          class="main-block segment full children children-third sm-children-full children-margin-bottom-medium sm-children-margin-bottom-xsmall children-padding-right-xsmall children-padding-left-xsmall sm-children-padding-none sm-whitespace-normal masonry"
          fields="segment1(segment2(member-picture(account.picture), segment3(name, member-pseudo(username), profile.job)), segment4(profile.city, skills))"
          loader-id="loader-members-list"
          class-member-picture="segment avatar-wrapper"
          class-account-picture="avatar large"
          class-name="segment block margin-top-xsmall margin-bottom-xxsmall text-xlarge text-bold text-color-heading whitespace-normal"
          class-member-pseudo="segment block"
          class-username="text-small"
          class-segment1="segment hover bg-color-white shadow full text-top whitespace-normal"
          class-segment2="segment full padding-medium text-center whitespace-normal"
          class-segment3="segment three-quarter whitespace-normal"
          class-segment4="segment full padding-medium padding-bottom-xsmall border-top border-color-grey whitespace-normal"
          class-member-picture="segment avatar-wrapper"
          class-profile.job="segment block margin-top-xsmall whitespace-normal"
          class-segment4="segment full padding-medium padding-bottom-xsmall border-top border-color-grey whitespace-normal"
          class-communities="segment block margin-bottom-xsmall"
          widget-account.picture="orbit-user-avatar"
          widget-profile.city="directory-city"
          class-skills="skills segment block children-tag whitespace-normal"
          multiple-skills=""
          multiple-skills-fields="name"
        >
        </solid-display>
      </div>
    </div>
  </body>
</html>
