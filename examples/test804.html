<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>SIB tests</title>
    <script type="module" src="https://unpkg.com/@startinblox/oidc@latest"></script>
    <script type="module" src="https://unpkg.com/@startinblox/router"></script>
    <script type="module" src="../../dist/index.js"></script>
    <link rel="stylesheet" href="main.css" />
  </head>

  <sib-auth auto-login>
    <sib-auth-provider
    data-authority="http://localhost:8000/"
    data-id="solid-event"
    ></sib-auth-provider>
  </sib-auth>

  <body>

    <solid-router default-route="listevents">
      <solid-route class="d-none" name="listevents"></solid-route>
      <solid-route use-id name="eventdetail"></solid-route>
      <solid-route use-id name="newevent"></solid-route>
      <solid-route use-id name="editevent"></solid-route>
    </solid-router>
    <section class="listevents bg-color-grey padding-bottom-xlarge" data-view="listevents" id="listevents">
      <div class="segment half sm-full text-right">
        <solid-link class="segment button text-xsmall text-bold text-uppercase text-center reversed color-secondary bordered icon icon-plus icon-margin-right-xxsmall" next="newevent">
          create an event
        </solid-link>
      </div>
      <solid-display
        class="segment full children children-third sm-children-full children-margin-bottom-medium sm-children-margin-bottom-xsmall children-padding-right-large children-padding-left-large sm-children-padding-none sm-whitespace-normal masonry counter pagination"

        data-src="http://localhost:8000/events/"

        fields ="segment1(img, name, startSet(startDate,startTime), endSet(endDate,endTime), type, shortDescription, location, link)"

        class-segment1="segment hover bg-color-white shadow full text-top text-center whitespace-normal padding-bottom-medium"
        class-img="event-children-bg-color-primary"
        class-name="segment block whitespace-normal text-uppercase text-semibold text-color-heading text-xxlarge text-letter-spacing-larger margin-medium"
        class-startSet="segment block text-bold"
        class-startDate="segment margin-right-xsmall"
        class-startTime="segment margin-left-xsmall"
        class-endSet="segment block text-bold margin-bottom-medium"
        class-endDate="segment margin-right-xsmall"
        class-endTime="segment margin-left-xsmall"
        class-type="text-uppercase tag color-primary bordered"
        class-shortDescription="segment block whitespace-normal margin-small"

        widget-img ='solid-display-img'
        paginate-by="9"
        next="eventdetail"
      ></solid-display>
    </section>

    <section data-view="newevent" id="newevent" class="newevent" hidden="">
      <div class="segment full padding-large sm-padding-top-small sm-padding-right-xsmall sm-padding-bottom-small sm-padding-left-xsmall border-bottom border-color-grey bg-color-white">
        <div class="segment half sm-full">
          <h2 class="margin-none text-color-heading text-uppercase text-xlarge text-letter-spacing-large">create_new_event</h2>
        </div>
        <div class="segment half sm-hidden text-right">
          <solid-link class="backlink" bind-resources="" next="listevents">backlink</solid-link>
        </div>
      </div>

      <div class="segment full padding-large sm-padding-xsmall sm-padding-top-medium whitespace-normal bg-color-white">
        <solid-form class="form"
          data-src="http://localhost:8000/events/"
          fields ="name, img, shortDescription"

          class-name="segment margin-bottom-medium full sm-full padding-right-small sm-padding-none text-small text-semibold text-uppercase text-color-heading whitespace-normal"
          class-img="segment block center margin-bottom-medium half sm-full padding-right-small sm-padding-none text-small text-semibold text-uppercase text-color-heading whitespace-normal"
          class-shortDescription="segment margin-bottom-medium full sm-full padding-right-small sm-padding-none text-small text-semibold text-uppercase text-color-heading whitespace-normal"

          widget-name="solid-form-label-text"

          widget-img="solid-form-image-label"
          widget-shortDescription="solid-form-textarea-label"
          label-img="label.image"
          label-name="label.event_name"
          label-shortDescription="label.short_description"
          required-name
          required-shortDescription

          upload-url-img="http://localhost:8000/upload/"

          data-js-type="event"
          submit-button="publish_event"
          class-submit-button="segment float-right button text-xsmall text-bold text-uppercase text-center reversed color-secondary bordered"
          reset
        ></solid-form>
      </div>
    </section>

    <section data-view="eventdetail" id="eventdetail" class="eventdetail margin-bottom-xxlarge" hidden="">
      <solid-display
        fields ="name, info(img, infotext(location, startSet(startDate,startTime), endSet(endDate,endTime), type, circle, shortDescription, link, @id)), longDescription"
        bind-resources
          
        class="container-1200"
        class-name="event-title segment block text-center text-xxlarge text-uppercase text-bold margin-xxlarge text-color-heading whitespace-normal"
        class-info="segment full margin-bottom-xxsmall sm-whitespace-normal sm-margin-none"
        class-img="segment half sm-full whitespace-normal event-children-bg-color-primary text-center padding-small"
        class-infotext="segment half sm-full whitespace-normal text-top margin-none margin-top-medium margin-left-medium margin-bottom-medium sm-margin-none sm-margin-top-medium sm-margin-bottom-medium sm-padding-small"
        class-location="segment block margin-bottom-small"
        class-startSet="segment block margin-bottom-small"
        class-startDate="segment margin-right-small"
        class-startTime="segment"
        class-endSet="segment block margin-bottom-small"
        class-endDate="segment margin-right-small"
        class-endTime="segment"
        class-shortDescription="segment block whitespace-normal margin-bottom-small"
        class-type="segment margin-bottom-xsmall margin-top-xsmall text-uppercase tag color-primary bordered"
        class-circle="segment block "
        class-longDescription="segment block whitespace-normal margin-top-medium margin-bottom-medium padding-small"

        widget-img ='solid-display-img'
        widget-id="event-edit"
      ></solid-display>
      <solid-widget name="event-edit">
        <template>
          <solid-ac-checker permission="acl:Write" data-src="${value}">
            <div class="segment full margin-bottom-small margin-top-medium">
              <solid-link data-src="${value}" next="editevent" class="segment sm-full button text-xsmall text-bold text-uppercase text-center reversed color-secondary bordered icon icon-pencil icon-margin-right-xxsmall">
                  edit event
              </solid-link>
            </div>
          </solid-ac-checker>
        </template>
      </solid-widget>
      <div class="container-1200">
        <solid-link next="listevents" class="segment button text-xsmall text-bold text-uppercase text-center reversed color-secondary bordered icon icon-arrow-left icon-margin-right-xxsmall margin-left-small margin-top-medium">
        back to list
      </solid-link>
      </div>
    </section>
    

    <section data-view="editevent" id="editevent" class="editevent" hidden="">
      <div class="segment full padding-large sm-padding-top-small sm-padding-right-xsmall sm-padding-bottom-small sm-padding-left-xsmall border-bottom border-color-grey bg-color-white">
        <div class="segment half sm-hidden text-right">
          <solid-link class="backlink" bind-resources="" next="eventdetail">backlink</solid-link>
        </div>
      </div>

      <solid-form class="form"
        bind-resources
        fields ="img"
        class-img="segment block center margin-bottom-medium half sm-full padding-right-small sm-padding-none text-small text-semibold text-uppercase text-color-heading whitespace-normal"
        widget-img="solid-form-image-label"
        upload-url-img="http://localhost:8000/upload/"
        reset
    ></solid-form>
  </body>
</html>
