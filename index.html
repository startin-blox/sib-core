<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.20/webcomponents-loader.js"></script>
        <link rel="import" href="ldp-display.html" />
        <link rel="import" href="ldp-form.html" />
        <link rel="import" href="ldp-calendar.html" />
        <link rel="import" href="ldp-map.html" />
        <link rel="import" href="ldp-router.html" />
        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", function(event) {
                document.getElementById('list').addEventListener('select', function(event) {
                    console.log(event.detail.resource);
                    alert('selected!');
                });
            });
        </script>
        <style>
            ldp-display {
                display: flex;
            }
            .set1 {
                display: flex;
                color: orange;
            }
            .text {
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <div id="loader" style="display:none">Chargement...</div>
        <ldp-router default-route="list">
            <ldp-route name="list">Voir la liste</ldp-route>
            <ldp-route name="form">Voir le formulaire</ldp-route>
            <ldp-route name="detail" id-prefix="http://localhost:8000/todos/">Voir le détail</ldp-route>
        </ldp-router>
        <main id="ldp-root">
            <ldp-display 
                id="list"
                data-src="http://localhost:8000/todos/"
                data-fields="set1, author"
                set-set1="name, text"
                value-text="youpi"
                search-fields="name, author"
                next="detail"
            ></ldp-display>
            <div id="detail">
                <ldp-display
                    bind-resources
                    loader-id="loader"
                    data-src="http://localhost:8000/todos/3"
                    data-fields="name, author, text, assignees"
                    value-text="Ceci est un détail"
                    widget-assignees="ldp-display-list"
                ></ldp-display>
            </div>
            <div id="form">
                <ldp-router route-prefix="form">
                    <ldp-route name="create">Nouveau</ldp-route>
                    <ldp-route name="edit">Modifier</ldp-route>
                </ldp-router>
                <section id="form-root">
                    <ldp-form id="create" data-src="http://localhost:8000/todos/"></ldp-form>
                    <ldp-form
                        id="edit"
                        data-src="http://localhost:8000/todos/3"
                        next="list"
                        widget-done="ldp-form-checkbox"
                        label-name="What's your name, honey?"
                        range-author="http://localhost:8000/users/"
                    ></ldp-form>
                </section>
            </div>
            <ldp-calendar data-src="http://localhost:8000/todos/" style="display: block; height: 300px; width: 500px;"></ldp-calendar>
            <ldp-map id="map" search-fields="name" data-src="http://localhost:8000/todos/" style="display: block; height: 300px; width: 500px;"></ldp-map>
        </main>
    </body>
</html>
