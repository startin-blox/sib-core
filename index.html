<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.20/webcomponents-loader.js"></script>
        <link rel="import" href="ldp-display.html" />
        <link rel="import" href="ldp-form.html" />
        <link rel="import" href="ldp-calendar.html" />
        <link rel="import" href="ldp-map.html" />
        <link rel="import" href="ldp-router.html" />
        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", function(event) {
                document.getElementById('list').addEventListener('select', function(event) {
                    console.log(event.detail.resource);
                    alert('selected!');
                });
            });
        </script>
        <style>
            ldp-display {
                display: flex;
            }
            .set1 {
                display: flex;
                color: orange;
            }
            .text {
                font-weight: bold;
            }
        </style>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
            integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
            crossorigin=""/>
       <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
            integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
            crossorigin=""></script>
    </head>
    <body>
        <ldp-router default-route="list">
            <ldp-route name="list">Voir la liste</ldp-route>
            <ldp-route name="form">Voir le formulaire</ldp-route>
            <ldp-route name="detail">Voir le détail</ldp-route>
        </ldp-router>
        <main id="ldp-root">
            <ldp-display 
                id="list"
                data-src="http://localhost:8000/todos/"
                data-fields="set1, author"
                set-set1="name, text"
                value-text="youpi"
                search-fields="name, author"
            ></ldp-display>
            <ldp-display
                id="detail"
                data-src="http://localhost:8000/todos/3"
                data-fields="name, author, text, assignees"
                value-text="Ceci est un détail"
                widget-assignees="ldp-list"
            ></ldp-display>
            <div id="form">
                <ldp-router route-prefix="form">
                    <ldp-route name="create">Nouveau</ldp-route>
                    <ldp-route name="edit">Modifier</ldp-route>
                </ldp-router>
                <section id="form-root">
                    <ldp-form id="create" data-src="http://localhost:8000/todos/"></ldp-form>
                    <ldp-form id="edit" data-src="http://localhost:8000/todos/1" next="list"></ldp-form>
                </section>
            </div>
            <ldp-calendar data-src="http://localhost:8000/todos/" style="display: block; height: 300px; width: 500px;"></ldp-calendar>
            <ldp-map data-src="http://localhost:8000/todos/" style="display: block; height: 300px; width: 500px;"></ldp-calendar>
        </main>
    </body>
</html>
